<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Account Settings - FoodSave</title>
  <link rel="stylesheet" href="/css/setting.css" />
  <script src="/js/accountSettings.js" defer></script>
</head>
<body>

  <!-- Navigation Bar (Optional) -->
  <nav class="navbar">
    <div class="nav-logo">
      <a href="/home">FoodSave</a>
    </div>
    <div class="nav-links">
      <a href="/home">Home</a>
      <a href="/help">Help Center</a>
      <a href="/contact">Contact Us</a>
      <a href="/logout">Logout</a>
    </div>
    <div class="user-info">
      <img src="<%= user.profileImage %>" alt="User Avatar" class="user-avatar" />
      <span class="username"><%= user.name %></span>
      
    </div>
  </nav>

  <!-- Account Settings -->
  <div class="settings-container">
    <h2>Account Settings</h2>

    <!-- Personal Info Section -->
    <form id="personalInfoForm" action="/account/update" method="POST">
      <h3>Personal Info</h3>
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" value="<%= user.name %>" required />

      <label for="email">Email:</label>
      <input type="email" id="email" name="email" value="<%= user.email %>" required />

      <% if (user.role !== 'admin') { %>
        <label for="organization">Organization:</label>
        <input type="text" id="organization" name="organization" value="<%= user.organization %>" />

        <label for="address">Address:</label>
        <input type="text" id="address" name="address" value="<%= user.address %>" />

        <label for="phone">Phone:</label>
        <input type="text" id="phone" name="phone" value="<%= user.phone %>" />
      <% } %>

      <button type="submit">Update Info</button>
    </form>

    <hr />

    <!-- Change Password Section -->
    <form id="changePasswordForm" action="/account/change-password" method="POST">
      <h3>Change Password</h3>
      <label for="currentPassword">Current Password:</label>
      <input type="password" id="currentPassword" name="currentPassword" required />

      <label for="newPassword">New Password:</label>
      <input type="password" id="newPassword" name="newPassword" required />

      <label for="confirmPassword">Confirm New Password:</label>
      <input type="password" id="confirmPassword" name="confirmPassword" required />

      <button type="submit">Change Password</button>
    </form>

    <hr />

    <!-- Delete Account Section -->
    <form id="deleteAccountForm" action="/account/delete" method="POST" onsubmit="return confirmDelete();">
      <h3>Delete Account</h3>
      <button type="submit" class="delete-button">Delete My Account</button>
    </form>
  </div>

</body>
</html>
