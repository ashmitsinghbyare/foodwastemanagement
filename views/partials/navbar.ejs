<nav class="navbar" id="navbar">
  <div class="navbar-left">
    <button id="sidebarToggle" class="sidebar-toggle">
      <i class="fas fa-bars"></i>
    </button>
    <div class="logo">food<b style="color:#06C167;">Save</b></div>
  </div>

  <ul class="nav-links">
    <li><a href="/" class="active">Home</a></li>
    <li><a href="/about">About</a></li>
    <li><a href="/contact">Contact Us</a></li>
    <li><a href="/help">Help Centre</a></li>
  </ul>

  <div class="search-container">
    <i class="fas fa-search search-icon"></i>
    <input type="text" class="search-bar" placeholder="Search..." />
  </div>

  <div class="navbar-right">
    <div class="profile-dropdown" id="profileDropdown">
      <% 
        let profileImage = 'https://i.pravatar.cc/150?img=1';
        let displayName = 'Guest';

        if (user) {
          profileImage = user.profileImage || (
            user.role === 'donor' ? '/uploads/default-donor.png' :
            user.role === 'receiver' ? '/uploads/default-receiver.png' :
            user.role === 'admin' ? '/uploads/default-admin.png' :
            '/uploads/default-avatar.jpg'
          );
          displayName = user.name;
        }
      %>
      <img src="<%= profileImage %>" alt="User Profile" width="45" style="border-radius: 50%;" />
      <span class="profile-name"><%= displayName %></span>
      <i class="fas fa-chevron-down dropdown-arrow"></i>
      <div class="dropdown-menu" id="dropdownMenu">
        <% if (user) { %>
          <a href="/account/viewprofile"><i class="fas fa-user"></i> View Profile</a>
          <a href="/account"><i class="fas fa-cog"></i> Account Settings</a>
          <a href="/logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
        <% } else { %>
          <a href="/login"><i class="fas fa-sign-in-alt"></i> Login</a>
          <a href="/signup"><i class="fas fa-user-plus"></i> Sign Up</a>
        <% } %>
      </div>
    </div>

    <% if (!user) { %>
      <button class="btn login-btn" onclick="window.location.href='/login'">Login</button>
      <button class="btn signup-btn" onclick="window.location.href='/signup'">Sign Up</button>
    <% } %>
  </div>
</nav>

<aside class="sidebar" id="sidebar">
  <div class="logo"><i class="fas fa-seedling"></i> foodSave</div>
  <ul class="sidebar-menu">
    <li onclick="location.href='/'"><i class="fas fa-home"></i> Home</li>
    <li onclick="location.href='/account/viewprofile'"><i class="fas fa-user"></i> Profile</li>
    <li onclick="location.href='/account'"><i class="fas fa-cog"></i> Settings</li>
    <li onclick="location.href='/logout'"><i class="fas fa-sign-out-alt"></i> Logout</li>
  </ul>
</aside>

 <style>
   * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background: #edeff146;
      overflow-x: hidden;
    }

    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #818680;
      color: white;
      padding: 20px 30px;
      width: 100%;
      border-radius: 0 0 20px 20px;
      z-index: 1000;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
      flex-wrap: wrap;
      position: fixed;
      top: 0;
      left: 0;
      transition: top 0.3s;
    }

    .navbar-left {
      display: flex;
      align-items: center;
    }

    .navbar-left .logo {
      font-size: 28px;
      font-weight: bold;
      color: white;
    
    }

    .sidebar-toggle {
      background: none;
      border: none;
      color: white;
      font-size: 24px;
      margin-right: 15px;
      cursor: pointer;
    }

    .nav-links {
      list-style: none;
      display: flex;
      gap: 20px;
    }

    .nav-links li a {
      text-decoration: none;
      font-size: 18px;
      color: white;
      padding: 10px 15px;
      border-radius: 6px;
      transition: 0.3s;
    }

    .nav-links li a.active,
    .nav-links li a:hover {
      background: #06C167;
      color: white;
    }

    .search-container {
      display: flex;
      align-items: center;
      background: #f1f1f1;
      padding: 6px 12px;
      border-radius: 25px;
      min-width: 220px;
    }

    .search-icon {
      color: #333;
      margin-right: 8px;
    }

    .search-bar {
      border: none;
      background: transparent;
      outline: none;
      font-size: 14px;
      width: 100%;
    }

    .nav-buttons .btn {
      padding: 8px 14px;
      border: none;
      border-radius: 20px;
      font-size: 14px;
      cursor: pointer;
      transition: 0.3s;
      margin-left: 10px;
      
    }

    .login-btn {
      background: transparent;
      color: white;
      border: 1px solid white;
     
    }

    .login-btn:hover {
      background: white;
      color: #06C167;
    }

    .signup-btn {
      background: #06C167;
      color: white;
    }

    .signup-btn:hover {
      background: #049a54;
    }

    /* Sidebar */
    .sidebar {
      width: 200px;
      background-color: #2c3e50;
      overflow-x: hidden;
      height: 100vh;
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      padding-top: 70px;
      z-index: 999;
    }

    .sidebar.show {
      display: block;
    }

    .sidebar .logo {
      color: white;
      font-size: 24px;
      font-weight: bold;
      text-align: center;
      margin-bottom: 10px;
      margin-top: 30px;
    }

    .sidebar .logo i {
      margin-right: 10px;
      color: #06C167;
    }

    .sidebar-menu {
      list-style: none;
      padding: 0;
    }

    .sidebar-menu li {
      display: flex;
      align-items: center;
      padding: 15px 10px;
      color: white;
      cursor: pointer;
    }

    .sidebar-menu li i {
      font-size: 20px;
      margin-right: 10px;
      color: #06C167;
    }

    .sidebar-menu li:hover {
      background-color: #34495e;
    }

    .container {
      padding: 120px 20px 20px 20px;
      text-align: center;
    }

    .dashboard-options {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-top: 40px;
      flex-wrap: wrap;
    }

    .dashboard-card {
      background: white;
      padding: 20px;
      width: 250px;
      border-radius: 10px;
      text-decoration: none;
      color: #333;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: 0.3s;
      text-align: center;
    }

    .dashboard-card i {
      font-size: 40px;
      color: #06C167;
    }

    /*.dashboard-card:hover {
      background: #06C167;
      color: white;
    }*/
    .dashboard-card:hover {
      background: #06C167;
      color: white;
    }

    .dashboard-card:hover i {
      color: white;
      /* Ensure the icon stays visible on hover */
    }


    .dashboard-card h2 {
      margin-top: 10px;
    }

    .heading {
      font-weight: 700;
      text-align: center;
      color: #2c3e50;
      font-size: 2.5em;
      margin: 40px 0 20px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .fake {
      color: #28e87b;
      font-weight: 600;
      margin-left: 8px;
    }

    .pickup p {
      font-size: 28px;
      font-weight: 600;
      text-align: center;
      margin: 20px 0;
    }

    .delivery {
      width: 40vw;
      display: block;
      margin: 0 auto;
    }

    .image-container {
      position: relative;
      width: 100%;
      overflow: hidden;
      margin-top: 40px;
      margin-bottom: 30px;
    }

    .para {
      text-align: center;
      font-size: 18px;
      font-weight: bold;
      background: rgba(255, 255, 255, 0.7);
      padding: 10px;
      margin-bottom: 10px;
    }

    .images {
      display: flex;
      animation: slideImages 20s linear infinite;
    }

    .images img {
      width: 300px;
      margin: 0 5px;
    }

    @keyframes slideImages {
      0% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(-1800px);
      }
    }

    /* Footer Styles */
    footer {
      background: #333;
      color: white;
      padding: 15px;
      text-align: center;
      margin-top: 50px;
    }

    .footer-container {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      padding: 30px 20px;
      background-color: #2c2c2c;
      color: #ffffff;
    }

    .footer-section {
      flex: 1 1 250px;
      margin: 10px;
    }

    .footer-section h3 {
      margin-bottom: 15px;
      color: #06C167;
    }

    .footer-section p,
    .footer-section ul,
    .footer-section form {
      font-size: 14px;
      line-height: 1.6;
    }

    .footer-section ul {
      list-style: none;
      padding: 0;
    }

    .footer-section ul li {
      margin-bottom: 10px;
    }

    .footer-section ul li a {
      color: #fff;
      text-decoration: none;
      transition: color 0.3s;
    }

    .footer-section ul li a:hover {
      color: #06C167;
    }

    .footer-section form {
      display: flex;
      gap: 8px;
      margin-top: 10px;
    }

    .footer-section input[type="email"] {
      padding: 8px 10px;
      border: none;
      border-radius: 4px;
      width: 70%;
    }

    .footer-section button {
      background-color: #06C167;
      border: none;
      padding: 8px 12px;
      color: white;
      border-radius: 4px;
      cursor: pointer;
    }

    .footer-section button:hover {
      background-color: #049a54;
    }

    .footer-bottom {
      text-align: center;
      background-color: #222;
      padding: 15px;
      color: rgb(255, 255, 255);
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }

    .footer-bottom p {
      margin: 5px 0;
      font-size: 14px;
      color: #06C167;
    }

.footer-bottom h3{
  color: #06C167;
}



    .social-icons a {
      color: rgba(133, 244, 54, 0.626);
      margin: 0 8px;
      font-size: 18px;
      transition: 0.3s;
    }
    

    #insta:hover {
      color: #f735d0;
    }

    #twit:hover {
      color: #34aedb;
    }

    #face:hover {
      color: #6634db;
    }

    @media (max-width: 768px) {
      .footer-container {
        flex-direction: column;
        text-align: center;
      }

      .footer-section {
        margin-bottom: 20px;
      }

      .footer-bottom {
        flex-direction: column;
        gap: 10px;
      }
    }

 /*.navbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    transition: top 0.3s ease-in-out;
    background-color: rgb(150, 143, 143);
    padding: 10px 20px;
  }

  .profile-dropdown img {
    vertical-align: middle;
  }

  .dropdown-menu {
    display: none;
    position: absolute;
    right: 10px;
    background-color: white;
    border: 1px solid #ddd;
    border-radius: 5px;
    padding: 10px;
    margin-top: 5px;
    z-index: 1001;
  }

  .profile-dropdown.show .dropdown-menu {
    display: block;
  }
</style>*/
</style>
<script>
  const profileDropdown = document.getElementById('profileDropdown');
  const dropdownMenu = document.getElementById('dropdownMenu');
  const sidebarToggle = document.getElementById('sidebarToggle');
  const sidebar = document.getElementById('sidebar');
  const navbar = document.getElementById('navbar');

  profileDropdown?.addEventListener('click', () => {
    profileDropdown.classList.toggle('show');
  });

  document.addEventListener('click', (e) => {
    if (!profileDropdown.contains(e.target)) {
      dropdownMenu.classList.remove("show");
    }
  });

  sidebarToggle?.addEventListener('click', () => {
    sidebar.classList.toggle('show');
  });

  // Hide navbar on scroll down, show on scroll up
  let lastScrollTop = 0;
  window.addEventListener('scroll', () => {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    navbar.style.top = (scrollTop > lastScrollTop) ? "-100px" : "0";
    lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
  });
</script>
