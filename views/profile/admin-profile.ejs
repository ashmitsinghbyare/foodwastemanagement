<%- include('../partials/header') %>

<div class="container admin-dashboard">
  <div class="profile-header">
    <img src="/uploads/profiles/<%= user.profileImage %>" alt="<%= user.name %>" class="profile-image">
    <div class="profile-info">
      <h1><%= user.name %></h1>
      <p><span class="badge badge-danger"><%= user.role %></span></p>
      <p><i class="fas fa-calendar-alt"></i> Member since <%= new Date(user.joinedDate).toLocaleDateString() %></p>
    </div>
  </div>
  
  <div class="row mt-4">
    <div class="col-md-4">
      <div class="card mb-4">
        <div class="card-body">
          <h3 class="card-title">Administrator Actions</h3>
          <div class="admin-actions">
            <a href="/admin/dashboard" class="btn btn-primary btn-block">
              <i class="fas fa-tachometer-alt"></i> Admin Dashboard
            </a>
            <a href="/admin/users" class="btn btn-primary btn-block">
              <i class="fas fa-users"></i> Manage Users
            </a>
            <a href="/admin/foods" class="btn btn-secondary btn-block">
              <i class="fas fa-utensils"></i> Manage Food Listings
            </a>
            <a href="/admin/requests" class="btn btn-info btn-block">
              <i class="fas fa-exchange-alt"></i> Manage Requests
            </a>
            <a href="/admin/stats" class="btn btn-success btn-block">
              <i class="fas fa-chart-line"></i> View Statistics
            </a>
          </div>
        </div>
      </div>
      
      <div class="card">
        <div class="card-body">
          <h3 class="card-title">Admin Status</h3>
          <div class="d-flex justify-content-between align-items-center mb-3">
            <span>Account Status:</span>
            <span class="badge badge-success">Active</span>
          </div>
          <div class="d-flex justify-content-between align-items-center mb-3">
            <span>Verification:</span>
            <span class="badge <%= user.isVerified ? 'badge-success' : 'badge-warning' %>">
              <%= user.isVerified ? 'Verified' : 'Unverified' %>
            </span>
          </div>
          <div class="d-flex justify-content-between align-items-center">
            <span>Admin Since:</span>
            <span><%= new Date(user.joinedDate).toLocaleDateString() %></span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-md-8">
      <div class="card mb-4">
        <div class="card-body">
          <h3 class="card-title">Personal Information</h3>
          <div class="table-container">
            <table class="table">
              <tbody>
                <tr>
                  <th width="30%">Name</th>
                  <td><%= user.name %></td>
                </tr>
                <tr>
                  <th>Email</th>
                  <td><%= user.email %></td>
                </tr>
                <tr>
                  <th>Phone</th>
                  <td><%= user.phone || 'Not provided' %></td>
                </tr>
                <tr>
                  <th>Organization</th>
                  <td><%= user.organization || 'Not provided' %></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-6">
          <div class="card mb-4">
            <div class="card-body">
              <h3 class="card-title">Address Information</h3>
              <div class="table-container">
                <table class="table">
                  <tbody>
                    <tr>
                      <th width="30%">Street</th>
                      <td><%= user.address.street || 'Not provided' %></td>
                    </tr>
                    <tr>
                      <th>City</th>
                      <td><%= user.address.city || 'Not provided' %></td>
                    </tr>
                    <tr>
                      <th>State</th>
                      <td><%= user.address.state || 'Not provided' %></td>
                    </tr>
                    <tr>
                      <th>Postal Code</th>
                      <td><%= user.address.postalCode || 'Not provided' %></td>
                    </tr>
                    <tr>
                      <th>Country</th>
                      <td><%= user.address.country || 'Not provided' %></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        
        <div class="col-md-6">
          <div class="card mb-4">
            <div class="card-body">
              <h3 class="card-title">About Me</h3>
              <p><%= user.bio || 'No bio provided yet.' %></p>
            </div>
          </div>
          
          <div class="card">
            <div class="card-body">
              <h3 class="card-title">Account Management</h3>
              <div class="profile-actions">
                <a href="/profile/edit" class="btn btn-primary btn-block">
                  <i class="fas fa-edit"></i> Edit Profile
                </a>
                <a href="/profile/change-password" class="btn btn-secondary btn-block">
                  <i class="fas fa-key"></i> Change Password
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

